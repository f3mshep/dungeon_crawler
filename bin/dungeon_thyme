#!/usr/bin/env ruby
require 'pry'
require_relative '../lib/dungeon_crawler.rb'



puts 'Welcome to Dungeon Thyme'

puts "\nWhat is your name?"
input = gets.chomp

player = Player.new(input)

puts "\nWelcome, #{input}. Generating Dungeon now!"

my_dungeon = Dungeon.new(player)

my_dungeon.add_room(:largecave, "Large Cave", "a large cavernous cave. The entrance is freshly caved in. You see a point of light WEST of you. ", { :west => :smallcave })

my_dungeon.add_room(:smallcave, "Small Cave", "a small, claustrophobic cave. There is an opening to the large cave EAST of you. You can make something out to the NORTH.", { :east => :largecave, :north => :torture_chamber })

my_dungeon.add_room(:torture_chamber, "Torture Chamber", "a dimly lit chamber. People were tortured here. It is vaguely smelly in here. To the SOUTH is the small cave. You can make out a narrow crevice to the NORTH", {:south => :smallcave, :north => :doom_room} )

my_dungeon.add_room(:doom_room, "Booby Trapped Room", "a cramped, narrow hallway. As you enter, you step on a pressure plate and thousands of arrows pierce your body.", {})

puts "You find yourself in a cave."
puts "Rocks block the way you came in."

my_dungeon.start(:largecave)

my_dungeon.play
